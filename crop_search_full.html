<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>ğŸŒ± Crop Finder</title>
  <style>
    body { font-family: Arial, sans-serif; margin:20px; background:#f9fafb; }
    h1 { text-align:center; color:#2e7d32; }
    .controls { display:flex; gap:10px; justify-content:center; flex-wrap:wrap; margin-bottom:20px; }
    input, select, button { padding:8px; font-size:16px; }
    .crop-grid { display:grid; grid-template-columns:repeat(auto-fill,minmax(240px,1fr)); gap:15px; }
    .card { border:1px solid #ccc; border-radius:12px; background:white; padding:10px;
            box-shadow:0 2px 5px rgba(0,0,0,0.1); position:relative; }
    .fav { position:absolute; right:10px; top:10px; font-size:22px; cursor:pointer; }
    .speak { cursor:pointer; margin-top:5px; font-size:14px; color:#2e7d32; }
  </style>
</head>
<body>
  <h1 id="title">ğŸŒ± Crop Finder</h1>

  <div class="controls">
    <input type="text" id="search" placeholder="Search crop..."/>
    <button onclick="startVoiceSearch()">ğŸ¤ <span id='voiceBtn'>Voice</span></button>
    <select id="language" onchange="setLanguage(this.value)">
      <option value="en">English</option>
      <option value="hi">Hindi</option>
      <option value="kn">Kannada</option>
      <option value="bn">Bengali</option>
    </select>
    <select id="category" onchange="filterCrops(document.getElementById('search').value)">
      <option value="all">All Categories</option>
      <option value="foodgrain">Foodgrains</option>
      <option value="vegetable">Vegetables</option>
      <option value="fruit">Fruits</option>
      <option value="spice">Spices</option>
      <option value="pulse">Pulses</option>
      <option value="oilseed">Oilseeds</option>
      <option value="commercial">Commercial</option>
      <option value="flower">Flowers</option>
    </select>
    <button onclick="showFavorites()">â­ <span id='favBtn'>Favorites</span></button>
  </div>

  <div id="cropContainer" class="crop-grid"></div>

  <script>
    // === Crop Data ===
    window.CROP_DATA = {
      foodgrain: [
        {name:"Rice", season:"Kharif", soil:"Clay loam", rainfall:"1200â€“1500 mm", temperature:"20â€“35Â°C", duration:"4â€“6"},
        {name:"Wheat", season:"Rabi", soil:"Loam", rainfall:"500â€“1000 mm", temperature:"10â€“25Â°C", duration:"4â€“5"},
        {name:"Sugarcane", season:"Annual", soil:"Alluvial", rainfall:"1000â€“1200 mm", temperature:"20â€“30Â°C", duration:"10â€“12"},
        {name:"Jute", season:"Kharif", soil:"Alluvial", rainfall:"1500â€“2000 mm", temperature:"24â€“35Â°C", duration:"4â€“5"}
      ],
      fruit: [
        {name:"Mango", season:"Summer", soil:"Alluvial", rainfall:"750â€“2500 mm", temperature:"24â€“30Â°C", duration:"3â€“6"},
        {name:"Banana", season:"All year", soil:"Loamy", rainfall:"1000â€“2500 mm", temperature:"20â€“35Â°C", duration:"9â€“12"},
        {name:"Apple", season:"Temperate", soil:"Well-drained", rainfall:"1000â€“1500 mm", temperature:"6â€“15Â°C", duration:"7â€“8"}
      ],
      vegetable: [
        {name:"Potato", season:"Rabi", soil:"Loamy", rainfall:"850â€“1200 mm", temperature:"15â€“20Â°C", duration:"3â€“4"},
        {name:"Onion", season:"Kharif/Rabi", soil:"Well-drained", rainfall:"650â€“750 mm", temperature:"15â€“25Â°C", duration:"3â€“5"},
        {name:"Tomato", season:"All year", soil:"Well-drained", rainfall:"600â€“800 mm", temperature:"21â€“24Â°C", duration:"3â€“4"}
      ],
      commercial: [
        {name:"Tea", season:"Perennial", soil:"Laterite", rainfall:"2000â€“3000 mm", temperature:"18â€“30Â°C", duration:"N/A"},
        {name:"Coffee", season:"Perennial", soil:"Laterite", rainfall:"1500â€“2500 mm", temperature:"15â€“28Â°C", duration:"N/A"},
        {name:"Cotton", season:"Kharif", soil:"Black soil", rainfall:"500â€“1000 mm", temperature:"21â€“30Â°C", duration:"6â€“8"}
      ],
      spice: [
        {name:"Turmeric", season:"Kharif", soil:"Loamy", rainfall:"1000â€“2000 mm", temperature:"20â€“30Â°C", duration:"7â€“9"},
        {name:"Ginger", season:"Kharif", soil:"Well-drained", rainfall:"1500â€“3000 mm", temperature:"20â€“30Â°C", duration:"8â€“10"},
        {name:"Chillies", season:"Kharif/Rabi", soil:"Loamy", rainfall:"600â€“1200 mm", temperature:"20â€“30Â°C", duration:"4â€“6"}
      ],
      pulse: [
        {name:"Pigeon Pea", season:"Kharif", soil:"Loamy", rainfall:"600â€“1000 mm", temperature:"20â€“30Â°C", duration:"4â€“5"},
        {name:"Green Gram", season:"Kharif", soil:"Loamy", rainfall:"600â€“1000 mm", temperature:"20â€“30Â°C", duration:"3â€“4"},
        {name:"Black Gram", season:"Kharif", soil:"Loamy", rainfall:"600â€“1000 mm", temperature:"20â€“30Â°C", duration:"3â€“4"}
      ],
      oilseed: [
        {name:"Groundnut", season:"Kharif", soil:"Sandy loam", rainfall:"600â€“1250 mm", temperature:"20â€“30Â°C", duration:"4â€“5"},
        {name:"Mustard", season:"Rabi", soil:"Loamy", rainfall:"400â€“650 mm", temperature:"10â€“25Â°C", duration:"3â€“4"},
        {name:"Soybean", season:"Kharif", soil:"Loamy", rainfall:"500â€“900 mm", temperature:"20â€“30Â°C", duration:"3â€“4"}
      ],
      flower: [
        {name:"Rose", season:"All year", soil:"Loamy", rainfall:"600â€“800 mm", temperature:"15â€“28Â°C", duration:"N/A"},
        {name:"Marigold", season:"All year", soil:"Loamy", rainfall:"600â€“800 mm", temperature:"20â€“25Â°C", duration:"3â€“4"},
        {name:"Jasmine", season:"Perennial", soil:"Loamy", rainfall:"600â€“800 mm", temperature:"20â€“30Â°C", duration:"N/A"}
      ]
    };

    // === Translations ===
    const translations = {
      Rice:{hi:"à¤šà¤¾à¤µà¤²",kn:"à²…à²•à³à²•à²¿",bn:"à¦šà¦¾à¦²"},
      Wheat:{hi:"à¤—à¥‡à¤¹à¥‚à¤‚",kn:"à²—à³‹à²§à²¿",bn:"à¦—à¦®"},
      Sugarcane:{hi:"à¤—à¤¨à¥à¤¨à¤¾",kn:"à²•à²°à²¿à²¬à³‡à²µà³",bn:"à¦†à¦–"},
      Jute:{hi:"à¤œà¥‚à¤Ÿ",kn:"à²œà³‚à²Ÿà³",bn:"à¦ªà¦¾à¦Ÿ"},
      Mango:{hi:"à¤†à¤®",kn:"à²®à²¾à²µà²¿à²¨ à²¹à²£à³à²£à³",bn:"à¦†à¦®"},
      Banana:{hi:"à¤•à¥‡à¤²à¤¾",kn:"à²¬à²¾à²³à³†à²¹à²£à³à²£à³",bn:"à¦•à¦²à¦¾"},
      Apple:{hi:"à¤¸à¥‡à¤¬",kn:"à²¸à³‡à²¬à³",bn:"à¦†à¦ªà§‡à¦²"},
      Potato:{hi:"à¤†à¤²à¥‚",kn:"à²…à²²à³‚à²—à²¡à³à²¡à³†",bn:"à¦†à¦²à§"},
      Onion:{hi:"à¤ªà¥à¤¯à¤¾à¤œ",kn:"à²ˆà²°à³à²³à³à²³à²¿",bn:"à¦ªà§‡à¦à¦¯à¦¼à¦¾à¦œ"},
      Tomato:{hi:"à¤Ÿà¤®à¤¾à¤Ÿà¤°",kn:"à²Ÿà³Šà²®à³‡à²Ÿà³Š",bn:"à¦Ÿà¦®à§‡à¦Ÿà§‹"},
      Tea:{hi:"à¤šà¤¾à¤¯",kn:"à²šà²¹à²¾",bn:"à¦šà¦¾"},
      Coffee:{hi:"à¤•à¥‰à¤«à¤¼à¥€",kn:"à²•à²¾à²«à²¿",bn:"à¦•à¦«à¦¿"},
      Cotton:{hi:"à¤•à¤ªà¤¾à¤¸",kn:"à²¹à²¤à³à²¤à²¿",bn:"à¦¸à§à¦¤à¦¿à¦° à¦•à¦¾à¦ªà¦¡à¦¼"},
      Turmeric:{hi:"à¤¹à¤²à¥à¤¦à¥€",kn:"à²…à²°à²¿à²¶à²¿à²¨",bn:"à¦¹à¦²à§à¦¦"},
      Ginger:{hi:"à¤…à¤¦à¤°à¤•",kn:"à²¶à³à²‚à² à²¿",bn:"à¦†à¦¦à¦¾"},
      Chillies:{hi:"à¤®à¤¿à¤°à¥à¤š",kn:"à²®à³†à²£à²¸à²¿à²¨à²•à²¾à²¯à²¿",bn:"à¦²à¦™à§à¦•à¦¾"},
      "Pigeon Pea":{hi:"à¤…à¤°à¤¹à¤°",kn:"à²¤à³Šà²—à²°à²¿",bn:"à¦¤à§à¦°"},
      "Green Gram":{hi:"à¤®à¥‚à¤‚à¤—",kn:"à²¹à³†à²¸à²°à³à²•à²¾à²³à³",bn:"à¦®à§à¦—"},
      "Black Gram":{hi:"à¤‰à¤¡à¤¼à¤¦",kn:"à²‰à²¦à³à²¦à²¿à²¨à²•à²¾à²³à³",bn:"à¦‰à¦¡à¦¼à¦¦"},
      Groundnut:{hi:"à¤®à¥‚à¤‚à¤—à¤«à¤²à¥€",kn:"à²•à²¡à²²à³†à²•à²¾à²¯à²¿",bn:"à¦šà§€à¦¨à¦¾à¦¬à¦¾à¦¦à¦¾à¦®"},
      Mustard:{hi:"à¤¸à¤°à¤¸à¥‹à¤‚",kn:"à²¸à²¾à²¸à²¿à²µà³†",bn:"à¦¸à¦°à¦¿à¦·à¦¾"},
      Soybean:{hi:"à¤¸à¥‹à¤¯à¤¾à¤¬à¥€à¤¨",kn:"à²¸à³‹à²¯à²¾à²¬à³€à²¨à³",bn:"à¦¸à¦¯à¦¼à¦¾à¦¬à¦¿à¦¨"},
      Rose:{hi:"à¤—à¥à¤²à¤¾à¤¬",kn:"à²—à³à²²à²¾à²¬à²¿",bn:"à¦—à§‹à¦²à¦¾à¦ª"},
      Marigold:{hi:"à¤—à¥‡à¤‚à¤¦à¤¾",kn:"à²šà³†à²‚à²¡à³ à²¹à³‚à²µà³",bn:"à¦—à¦¾à¦à¦¦à¦¾"},
      Jasmine:{hi:"à¤šà¤®à¥‡à¤²à¥€",kn:"à²®à²²à³à²²à²¿à²—à³†",bn:"à¦¯à§à¦à¦‡"}
    };

    let favorites = JSON.parse(localStorage.getItem("favorites")) || [];
    let currentLang = "en";

    // UI Translations
    const uiText = {
      en:{title:"ğŸŒ± Crop Finder",voice:"Voice",favorites:"Favorites"},
      hi:{title:"ğŸŒ± à¤«à¤¸à¤² à¤–à¥‹à¤œà¤•",voice:"à¤†à¤µà¤¾à¤œà¤¼",favorites:"à¤ªà¤¸à¤‚à¤¦à¥€à¤¦à¤¾"},
      kn:{title:"ğŸŒ± à²¬à³†à²³à³† à²¹à³à²¡à³à²•à²¾à²Ÿ",voice:"à²§à³à²µà²¨à²¿",favorites:"à²®à²¨à²ªà²Ÿà³à²Ÿà³"},
      bn:{title:"ğŸŒ± à¦«à¦¸à¦² à¦…à¦¨à§à¦¸à¦¨à§à¦§à¦¾à¦¨",voice:"à¦­à¦¯à¦¼à§‡à¦¸",favorites:"à¦ªà¦›à¦¨à§à¦¦à§‡à¦°"}
    };

    function renderCrops(crops) {
      const container=document.getElementById("cropContainer");
      container.innerHTML="";
      crops.forEach(crop=>{
        const card=document.createElement("div");
        card.className="card";
        let translatedName = translations[crop.name]?.[currentLang] || crop.name;
        card.innerHTML=`
          <span class="fav" onclick="toggleFavorite('${crop.name}')">${favorites.includes(crop.name)?"â¤ï¸":"ğŸ¤"}</span>
          <h3>${translatedName}</h3>
          <p>ğŸŒ¦ï¸ ${crop.season}</p>
          <p>ğŸŒ± ${crop.soil}</p>
          <p>ğŸ’§ ${crop.rainfall}</p>
          <p>ğŸŒ¡ï¸ ${crop.temperature}</p>
          <p>â³ ${crop.duration} months</p>
          <div class="speak" onclick="speakCrop('${crop.name}')">ğŸ”Š</div>
        `;
        container.appendChild(card);
      });
    }

    function filterCrops(query) {
      query=query.toLowerCase();
      let allCrops=[];
      const category=document.getElementById("category").value;
      if(category==="all"){ allCrops=Object.values(window.CROP_DATA).flat(); }
      else { allCrops=window.CROP_DATA[category]||[]; }
      let filtered=allCrops.filter(c=>{
        let name = translations[c.name]?.[currentLang] || c.name;
        return name.toLowerCase().includes(query);
      });
      renderCrops(filtered);
    }

    document.getElementById("search").addEventListener("input", e=>filterCrops(e.target.value));

    function startVoiceSearch(){
      const recog=new(window.SpeechRecognition||window.webkitSpeechRecognition)();
      recog.lang=currentLang==="en"?"en-US":currentLang==="hi"?"hi-IN":currentLang==="kn"?"kn-IN":"bn-IN";
      recog.start();
      recog.onresult=function(e){
        let text=e.results[0][0].transcript;
        document.getElementById("search").value=text;
        filterCrops(text);
      };
    }

    function speakCrop(name){
      let allCrops=Object.values(window.CROP_DATA).flat();
      let crop=allCrops.find(c=>c.name===name);
      if(!crop) return;
      let translatedName = translations[crop.name]?.[currentLang] || crop.name;
      let utter=new SpeechSynthesisUtterance(
        `${translatedName}. Season: ${crop.season}. Soil: ${crop.soil}. Rainfall: ${crop.rainfall}. Temperature: ${crop.temperature}. Duration: ${crop.duration} months.`
      );
      utter.lang=currentLang==="en"?"en-US":currentLang==="hi"?"hi-IN":currentLang==="kn"?"kn-IN":"bn-IN";
      speechSynthesis.speak(utter);
    }

    function toggleFavorite(name){
      if(favorites.includes(name)){favorites=favorites.filter(f=>f!==name);}else{favorites.push(name);}
      localStorage.setItem("favorites",JSON.stringify(favorites));
      filterCrops(document.getElementById("search").value);
    }

    function showFavorites(){
      let allCrops=Object.values(window.CROP_DATA).flat();
      renderCrops(allCrops.filter(c=>favorites.includes(c.name)));
    }

    function setLanguage(lang){ 
      currentLang=lang; 
      document.getElementById("title").innerText=uiText[lang].title;
      document.getElementById("voiceBtn").innerText=uiText[lang].voice;
      document.getElementById("favBtn").innerText=uiText[lang].favorites;
      filterCrops(document.getElementById("search").value); 
    }

    // Initial load
    filterCrops("");
  </script>
</body>
</html>
